# Настройка Cloudflare KV для хранения игр

## Текущая ситуация

Сейчас данные игр сохраняются:
- ✅ **Cloudflare KV** (если настроен) - постоянное хранилище, доступно всем
- ⚠️ **localStorage** (fallback) - только в браузере создателя, не работает между пользователями

## Настройка KV (рекомендуется)

### Шаг 1: Создать KV Namespace

1. Зайдите в [Cloudflare Dashboard](https://dash.cloudflare.com/)
2. Выберите ваш аккаунт
3. Перейдите в **Workers & Pages** → **KV**
4. Нажмите **Create a namespace**
5. Назовите его, например: `GAMES_STORAGE`
6. Скопируйте **Namespace ID**

### Шаг 2: Настроить wrangler.toml

Откройте `wrangler.toml` и раскомментируйте/добавьте:

```toml
[[kv_namespaces]]
binding = "GAMES_KV"
id = "ваш-namespace-id-здесь"
```

### Шаг 3: Деплой

После настройки KV и деплоя, все созданные игры будут сохраняться в KV и доступны всем пользователям.

## Структура хранения в KV

- `game:{id}` - данные конкретной игры (JSON)
- `games:list` - список всех игр (массив с id, name, slug)

## Альтернативы

Если KV не подходит, можно использовать:
- **Cloudflare D1** (SQLite база данных)
- **Cloudflare R2** (для файлов JSON)
- **Внешний API** (ваш сервер)

## Проверка работы

После настройки KV:
1. Создайте игру через конструктор
2. Проверьте, что она сохранилась в KV через Dashboard
3. Откройте ссылку игры - должна загрузиться страница

